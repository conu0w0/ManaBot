import discord
import os
from dotenv import load_dotenv
from keep_alive import keep_alive

load_dotenv()

intents = discord.Intents.default()
intents.message_content = True  # å¿…é ˆå•Ÿç”¨
bot = discord.Client(intents=intents)


@bot.event
async def on_ready():
  print(f"é»‘å ‚ çœŸä¹ƒ ä¸Šç·šå›‰ï¼å¸³è™Ÿï¼š{bot.user}")


@bot.event
async def on_message(message):
  if message.author == bot.user:
    return

  print(f"[{message.author.display_name}] èªªï¼š{message.content}")

  content = message.content.strip()

  # çœŸä¹ƒï¼Œèµ·åºŠ
  if content == "çœŸä¹ƒï¼Œèµ·åºŠ":
    await message.channel.send("â€¦â€¦å””â€¦â€¦ç¾åœ¨æ˜¯ä¸Šç­æ™‚é–“äº†å—ï¼Ÿâ˜•ã€€æˆ‘é¦¬ä¸Šä¾†å¹«æ‚¨æº–å‚™ä»Šæ—¥çš„ç‡Ÿé‹äº‹å‹™ã€‚")

  # çœŸä¹ƒï¼Œç™¼å¸ƒç‰ˆè¦
  elif content == "çœŸä¹ƒï¼Œç™¼å¸ƒç‰ˆè¦":
    await message.channel.send("""
ğŸ‰ **æ­¡è¿å…‰è‡¨ï¼Œè¦ªæ„›çš„å®¢äººã€‚é€™è£¡æ˜¯â€”â€”å—·å—·å’–å•¡é¤¨ã€‚**

æˆ‘æ˜¯åº—é•· **é»‘å ‚ çœŸä¹ƒ**ï¼Œä¸€éš»æš¹ç¾…è²“ã€‚  
å¾ˆé«˜èˆˆæ‚¨è¸é€²é€™å€‹å°å°å¤©åœ°ã€‚è«‹éš¨æ„åä¸‹ï¼Œé»æ¯æ‹¿éµï¼Œæ…¢æ…¢èªè­˜é€™è£¡çš„æœ‹å‹èˆ‡æ•…äº‹â€¦â€¦â˜•ğŸ’–

åœ¨é–‹å§‹äº’å‹•ä¹‹å‰ï¼Œæˆ‘æƒ³èŠ±ä¸€é»é»æ™‚é–“ï¼Œå’Œæ‚¨åˆ†äº«æˆ‘å€‘çš„è¦å‰‡ã€‚  
é€™èƒ½ç¢ºä¿å’–å•¡é¤¨å§‹çµ‚ä¿æŒæº«æš–ã€å°Šé‡èˆ‡å®‰å¿ƒçš„æ°›åœï¼Œè®“æ¯ä½ä¾†è¨ªçš„å®¢äººéƒ½èƒ½éå¾—é–‹å¿ƒã€‚

ğŸ“œï½œ**é¤¨å…§è¦å‰‡**
1ï¸âƒ£ åŸºæœ¬ç¦®è²Œï¼šè«‹ä»¥å‹å–„æ…‹åº¦å°å¾…æ¯ä½å®¢äººã€‚
2ï¸âƒ£ å°Šé‡èº«ä»½ï¼šè«‹å°Šé‡è§’è‰²è¨­å®šèˆ‡å€‹äººç©ºé–“ã€‚
3ï¸âƒ£ ç¦æ­¢éš¨æ„ç™¼é€ä¸ç•¶å…§å®¹ï¼šNSFWï¼æš´åŠ›ï¼è¡€è…¥ï¼æ¥µç«¯è¨€è«–ï¼éæ³•è¡Œç‚ºã€‚
4ï¸âƒ£ å‰µä½œèˆ‡åˆ†äº«ï¼šæ­¡è¿å‰µä½œï¼Œè½‰è²¼è«‹æ¨™è¨»ä¾†æºï¼Œç¦æ­¢ç›œåœ–ã€‚
5ï¸âƒ£ é »é“åˆ†æµï¼šè«‹ä¾ç…§é »é“ä¸»é¡Œåˆ†äº«å…§å®¹ã€‚
6ï¸âƒ£ èªéŸ³å®ˆå‰‡ï¼šé€²èªéŸ³è«‹å…ˆæ‰“æ‹›å‘¼ï¼Œå°Šé‡ä»–äººç‹€æ…‹ã€‚
7ï¸âƒ£ é•è¦è™•ç½®ï¼šå°‡è¦–æƒ…ç¯€äºˆä»¥è­¦å‘Šã€ç¦è¨€ã€è¸¢å‡ºæˆ–å°é–ã€‚

ğŸ’¡ è‹¥æ‚¨æœ‰ä»»ä½•å»ºè­°æˆ–å•é¡Œï¼Œæ­¡è¿åˆ° `ğŸ“‚ãƒ»å»ºè­°èˆ‡åé¥‹` ç•™è¨€å–µï½
ğŸ¦´ å®Œæˆé–±è®€å¾Œï¼Œè«‹è¨˜å¾—åˆ° `ğŸŒ±ãƒ»è‡ªæˆ‘ä»‹ç´¹` å’Œå¤§å®¶èªªè²å—¨ï¼

å—·å—·å’–å•¡é¤¨æ°¸é æ­¡è¿æ‚¨ï½ â˜•ğŸ¾
        """)

  # çœŸä¹ƒè¢«æåˆ°ï¼ˆ@ManaBotï¼‰
  elif bot.user in message.mentions:
    await message.channel.send("æ¬¸ï¼Ÿæ‚¨æ˜¯åœ¨å«æˆ‘å—ï¼Ÿæˆ‘åœ¨é€™è£¡ï½â˜•")


# å•Ÿå‹• KeepAlive + çœŸä¹ƒé‹ä½œ
keep_alive()
bot.run(os.getenv("DISCORD_TOKEN"))
